<div class="container-fluid m-4 pb-3 " style=" min-width: 100%;   width: max-content;">
    <div id=index page>
        <nav class="navbar navbar-light bg-light  me-auto ">
            <span class="navbar-brand mb-0 h1">Áè≠Á¥öÂ≠∏ÊúüÊàêÁ∏æÊü•Ë©¢</span>
        </nav>
        <ng-container *ngIf="!isFirstLoading; else tplFirstLoading">
            <ng-container *ngIf="classess.length > 0; else tplNoClass">
                <!-- fliter -->
                <div class="input-group my-3">
                    <!-- Áè≠Á¥ö -->
                    <div class="btn-group">
                        <button type="button" class="btn btn-light dropdown-toggle mr-3" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">
                            {{selectionObj.currentClass.ClassName}}
                        </button>
                        <div class="dropdown-menu">
                            <a class="dropdown-item" *ngFor="let class of classess" href="javascript:void(0);"
                                [ngClass]="{'active': class.ID == selectionObj.currentClass.ID}"
                                (click)="clickClassbtn(class)">
                                <!-- [ngClass] Âú®ÈÄôË£°‰∏ªË¶ÅËôïÁêÜÔºåÁõÆÂâçÈ°ØÁ§∫Áè≠Á¥öÔºåÂú®Ê≠§Ë°®Ê†º‰∏≠Ê∑ªÂä†ËÉåÊôØÈÜíÁõÆÊèêÁ§∫-->
                                {{class.ClassName}}
                            </a>
                        </div>
                    </div>
                    <!-- Â≠∏Âπ¥Â≠∏Êúü -->
                    <div class="btn-group">
                        <button type="button" class="btn btn-light dropdown-toggle mr-3" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">
                            {{this.selectionObj.schoolYearSemester?.SchoolYear}}Â≠∏Âπ¥Â∫¶
                            {{this.selectionObj.schoolYearSemester?.Semester}}Â≠∏Êúü
                        </button>
                        <div class="dropdown-menu">
                            <a class="dropdown-item" *ngFor="let ss of schoolYearSemester" href="javascript:void(0)"
                                [ngClass]="{'active': ss.SchoolYear == this.selectionObj.schoolYearSemester.SchoolYear && ss.Semester == this.selectionObj.schoolYearSemester.Semester}"
                                (click)="clickSchoolYearSemester(ss)">
                                {{ss.SchoolYear}}Â≠∏Âπ¥Â∫¶ {{ss.Semester}}Â≠∏Êúü
                            </a>
                        </div>
                    </div>
                    <!-- ÁßëÁõÆÊàñÈ†òÂüüÊàêÁ∏æ -->
                    <div class="btn-group">
                        <button type="button" class="btn btn-light dropdown-toggle mr-3" data-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">
                            {{selectionObj.currentScoreType}}
                        </button>
                        <div class="dropdown-menu">
                            <a class="dropdown-item" *ngFor="let scoreType of scoreTypeList" href="javascript:void(0)"
                                [ngClass]="{'active': scoreType == selectionObj.currentScoreType }"
                                (click)="clickScoreType(scoreType)">
                                {{scoreType}}
                            </a>
                        </div>
                    </div>




                    <!-- ÊéíÂêçÊØçÁæ§È°ûÂà• -->



                    <!-- ÊòØÂê¶È°ØÁ§∫ÊéíÂêç-->
                    <ng-container *ngIf="isSchoolSetingShowRank">
                        <div class="btn-group">
                            <button type="button" class="btn btn-light dropdown-toggle mr-3" data-toggle="dropdown"
                                [disabled]="!currentRankType" aria-haspopup="true" aria-expanded="false">
                                {{currentRankType?currentRankType?.RankType:"Êú™ÁµêÁÆóÂõ∫ÂÆöÊéíÂêç"}}
                            </button>
                            <div class="dropdown-menu">
                                <a class="dropdown-item" *ngFor="let matrix of rankTypeList" href="javascript:void(0)"
                                    [ngClass]="{'active': curMatrix == matrix}" (click)="setMatrix(matrix)">
                                    {{matrix?.RankType}}
                                </a>
                            </div>
                        </div>
                        <!-- ‰ΩøÁî®ËÄÖÈÅ∏Êìá ÊòØÂê¶Ë¶ÅÈ°ØÁ§∫ÊéíÂêç -->

                    </ng-container>
                    <button type="button" class="btn btn-primary  mr-3" aria-haspopup="true" aria-expanded="false"
                        (click)="searchData()">
                        Êü•Ë©¢
                    </button>
                </div>

                <div class="mt-2 mb-2">

                    <!--È°ØÁ§∫Âì™Á®ÆÊàêÁ∏æ -->
                    <div class="btn-group">
                        <button type="button" class="btn btn-light  mr-3" data-toggle="dropdown" aria-haspopup="true"
                            aria-expanded="false">
                            ÈÅ∏ÊìáÊàêÁ∏æÈ°ûÂûã
                        </button>
                        <div class="dropdown-menu">
                            <a style="margin-left: 15px; width: 85%; " class="dropdown-item"
                                *ngFor="let scoreType of scoreTypeStateListt" href="javascript:void(0)"
                                (click)="setCheck()">
                                <input class="form-check-input" type="checkbox" value=""
                                    [id]="'scoreType'+scoreType.Name" [checked]="scoreType.Check"
                                    (change)="setScoretypeCheck(scoreType)">
                                <label class="form-check-label" [for]="'scoreType'+scoreType.Name">
                                    {{scoreType.Name}}
                                </label>
                            </a>
                        </div>
                    </div>

                    <!-- È°ØÁ§∫ÁßëÁõÆÊåâÈàï -->

                    <button type="button" class="btn btn-light  mr-3" aria-haspopup="true" aria-expanded="false"
                        (click)="openModal(template)">
                        ÈÅ∏ÊìáÈ°ØÁ§∫{{showingScoreType}}
                    </button>

                    <ng-container *ngIf="isSchoolSetingShowRank">
                        <!--Â¶ÇÊûúÊ≤íÊúâË¶ÅÈ°ØÁ§∫ -->
                        <button *ngIf="isUserSelectShowRank" type="button" class="btn  btn-secondary  mr-3"
                            aria-haspopup="true" aria-expanded="false"
                            (click)="isUserSelectShowRank=!isUserSelectShowRank">
                            ‰∏çÈ°ØÁ§∫ÊéíÂêç
                        </button>
                        <button *ngIf="!isUserSelectShowRank" type="button" class="btn  btn-secondary  mr-3"
                            aria-haspopup="true" aria-expanded="false"
                            (click)="isUserSelectShowRank=!isUserSelectShowRank">
                            È°ØÁ§∫ÊéíÂêç
                        </button>
                    </ng-container>


                </div>
                <ng-container *ngIf="!isLoading; else tplLoading">
                    <ng-container *ngIf="!noneSS; else tplNoSS">
                        <table class="table table-bordered table-striped mb-5 sticky">

                            <thead>
                                <tr>
                                    <th class="head_row1" scope="colgroup" [attr.colspan]="2"></th>

                                    <ng-container *ngFor="let showItem of selectShowItems">
                                        <th *ngIf="showItem.Check=='true'" class="head_row1" scope="colgroup"
                                            [attr.colspan]="getShowItemCheckCount(showItem.ScoreType)">
                                            {{showItem.Name}}
                                        </th>
                                    </ng-container>

                                </tr>
                                <tr class="text-center">
                                    <th class="head" scope="col" style="width:100px;">
                                        Â∫ßËôü</th>
                                    <th class="head" scope="col" style="width:120px;">ÂßìÂêç</th>
                                    <ng-container *ngIf="!isUserSelectShowRank">

                                        <ng-container *ngIf="false">
                                            <th class="head" scope="colgroup" style="white-space: nowrap"
                                                [attr.colspan]="getScoreTypeSelectCount()">ÊàêÁ∏æ</th>
                                        </ng-container>
                                        <ng-container *ngIf="true">
                                            <ng-container *ngFor="let sub of selectShowItems">
                                                <ng-container *ngIf="getScoreTypeSelectCount()==0">
                                                    <th class="head"  style="white-space: nowrap" *ngIf="sub.Check=='true'">
                                                    </th>
                                                </ng-container>
                                                <ng-container *ngFor="let scoreType of scoreTypeStateListt">
                                                    <th *ngIf="scoreType.Check &&sub.Check=='true' && !(sub.ScoreType =='Á∏ΩÊàêÁ∏æ'&& scoreType.Name=='Ë£úËÄÉÊàêÁ∏æ')" class="head"
                                                        scope="colgroup" style="white-space: nowrap" [attr.colspan]="1">
                                                        {{scoreType.Name}}</th>
                                                </ng-container>
                                            </ng-container>

                                        </ng-container>

                                    </ng-container>

                                    <ng-container *ngIf="isUserSelectShowRank">
                                        <ng-container *ngFor="let sub of selectShowItems">
                                            <!-- Ë¶ÅÈ°ØÁ§∫Âì™Á®Æ ÊàêÁ∏æ  -->
                                            <ng-container *ngIf="isUserSelectShowRank">
                                                <ng-container *ngFor="let scoreType of scoreTypeStateListt">
                                                    <th *ngIf="scoreType.Check && !(sub.ScoreType =='Á∏ΩÊàêÁ∏æ'&& scoreType.Name=='Ë£úËÄÉÊàêÁ∏æ')" class="head" scope="col"
                                                        style="white-space: nowrap">
                                                        {{scoreType.Name}}
                                                    </th>
                                                    <!-- È°ØÁ§∫ÊéíÂêç ÊéíÂêç -->
                                                    <!-- <th *ngIf="scoreType.Check&&scoreType.HasRank" class="head"
                                                        scope="col" style="white-space: nowrap">{{currentRankType?
                                                        currentRankType.RankType:"ÊéíÂêç"}}
                                                    </th> -->
                                                </ng-container>
                                            </ng-container>
                                            <ng-container *ngIf="!getScoreTypeSelectCount()">
                                                <th class="head">
                                                    ÊàêÁ∏æ
                                                </th>
                                                <th class="head" scope="col" style="white-space: nowrap">
                                                    {{currentRankType? currentRankType.RankType:"ÊéíÂêç"}}
                                                </th>
                                            </ng-container>
                                        </ng-container>

                                    </ng-container>
                                </tr>
                            </thead>
                            <tbody>

                                <tr class="text-center " *ngFor="let stu of studentList">
                                    <td>{{stu.SeatNo}} </td>
                                    <td style="white-space: nowrap" [innerHtml]="stu.StudentName"></td>
                                    <ng-container *ngFor="let sub of subjectList2">
                                        <td [appCreditType]="stu.ScoreInfo[sub].get_cedit"
                                            *ngIf="stu.ScoreInfo[sub].ori_score && stu.ScoreInfo[sub].ori_score.noneScore; else tplNoScore">
                                            {{stu.ScoreInfo[sub].ori_score.score}}</td>
                                    </ng-container>
                                    <!-- È°ØÁ§∫ÁßëÁõÆ or È†òÂüü -->
                                    <ng-container *ngFor="let sub of selectShowItems">
                                        <ng-container [ngSwitch]="noneRank">
                                            <ng-container *ngSwitchCase="false">
                                                <!--  È°ØÁ§∫ÊàêÁ∏æËôï -->
                                                <ng-container *ngIf="sub.Check=='true'">
                                                    <ng-container *ngIf="getScoreTypeSelectCount() ==0">
                                                        <td>
                                                        </td>
                                                    </ng-container>

                                                    <!-- A. -->
                                                    <ng-container>
                                                        <ng-container *ngFor="let scoreType of scoreTypeStateListt">

                                                            <!-- A.„ÄÄüöïÈùûÁ∏ΩÊàêÁ∏æ -->
                                                            <ng-container *ngIf="sub.ScoreType !='Á∏ΩÊàêÁ∏æ'" >
                                                                <ng-container
                                                                    *ngIf="scoreType.Check && scoreType.Name=='ÊàêÁ∏æ'">
                                                                    <!--  ÊìáÂÑ™ÊàêÁ∏æ -->
                                                                    <!-- <td>
                                                                        {{stu.hasSubj(sub.Name)?stu.ScoreInfo.get(sub.Name).Score:"--"}}

                                                                    </td> -->
                                                                    <td *ngIf="stu.hasSubj(sub.Name) && stu.ScoreInfo.get(sub.Name).Score  ;else tplNoScore"
                                                                    [class]="isScoreBelow60(stu.ScoreInfo.get(sub.Name).Score)?'below60':''">
                                                                    {{stu.hasSubj(sub.Name)?stu.ScoreInfo.get(sub.Name).Score:"--"}}
                                                                </td>
                                                                    <!-- ÊìáÂÑ™ÊéíÂêç -->
                                                                    <td *ngIf="isSchoolSetingShowRank">
                                                                        {{stu.hasSubj(sub.Name)&&stu.ScoreInfo.get(sub.Name)?stu.ScoreInfo.get(sub.Name).RankInfo?.BestScoreRank:"--"}}
                                                                    </td>
                                                                </ng-container>
                                                                <ng-container
                                                                    *ngIf="scoreType.Check && scoreType.Name=='ÂéüÂßãÊàêÁ∏æ'">
                                                                    <!--  ÂéüÂßãÊàêÁ∏æ -->
                                                                    <td *ngIf="stu.hasSubj(sub.Name) && stu.ScoreInfo.get(sub.Name).OrginScore  ;else tplNoScore"
                                                                        [class]="isScoreBelow60(stu.ScoreInfo.get(sub.Name).OrginScore)?'below60':''">
                                                                        {{stu.hasSubj(sub.Name)?stu.ScoreInfo.get(sub.Name).OrginScore:"--"}}
                                                                    </td>
                                                                    <!-- ÊìáÂÑ™ÊéíÂêç -->
                                                                    <td *ngIf="isSchoolSetingShowRank" >
                                                                        {{stu.hasSubj(sub.Name)?
                                                                        stu.ScoreInfo.get(sub.Name).RankInfo?.OrgainScoreRank:
                                                                        "--"}}
                                                                    </td>
                                                                </ng-container>
                                                                <ng-container
                                                                    *ngIf="scoreType.Check && scoreType.Name=='Ë£úËÄÉÊàêÁ∏æ'">
                                                                    <!--  Ë£úËÄÉÊàêÁ∏æ -->
                                                                    <td *ngIf="stu.hasSubj(sub.Name) && stu.ScoreInfo.get(sub.Name).RetestScore  ;else tplNoScore"
                                                                    [class]="isScoreBelow60(stu.ScoreInfo.get(sub.Name).RetestScore)?'below60':''">
                                                                    {{stu.hasSubj(sub.Name)?stu.ScoreInfo.get(sub.Name).RetestScore:"--"}}
                                                                </td>
                                                                </ng-container>
                                                            </ng-container>

                                                            <!-- B. üôÇÁ∏ΩÊàêÁ∏æ È°ØÁ§∫-->
                                                        
                                                            <ng-container *ngIf="sub.ScoreType =='Á∏ΩÊàêÁ∏æ'&&!(scoreType.Name=='Ë£úËÄÉÊàêÁ∏æ')">
                                                                     
                                                                <td  [class]="isScoreBelow60(stu.TotalScoreInfo[sub.Name][scoreType.Name])?'below60':''"   *ngIf="scoreType.Check">
                                                                    {{stu.TotalScoreInfo?stu.TotalScoreInfo[sub.Name][scoreType.Name]:"--"}}
                                                                   
                                                                </td>
                                                            </ng-container>
                                                        </ng-container>
                                                    </ng-container>
                                                </ng-container>
                                            </ng-container>
                                        </ng-container>
                                    </ng-container>
                                </tr>
                            </tbody>
                        </table>

                        <!-- <h3>Á¥öË∑ùÁµ±Ë®àË°®</h3>
                    <ng-container *ngIf="!noneRank ; else tplNoRank">
                        <table class="table table-bordered table-striped mb-5 mr-3" *ngIf="curMatrix === 'Áè≠ÊéíÂêç' || curMatrix === 'Âπ¥ÊéíÂêç' || curMatrix === 'ÁßëÊéíÂêç'; else tplSubRank">
                                <thead>
                                    <tr>
                                        <th scope="colgroup" colspan="1"></th>
                                        
                                        <th scope="colgroup" colspan="2" *ngFor="let sub of subjectList2">{{sub}}</th>
                                        <th scope="colgroup" colspan="2" *ngFor="let sub of subItem2">{{sub}}</th>
                                    </tr>
                                    <tr class="text-center" >
                                        <th scope="col" style="white-space: nowrap">Á¥öË∑ù</th>
                                   
                                        <ng-container *ngFor="let sub of subjectList2">
                                            <th scope="col" style="white-space: nowrap" >ÂéüÂßã</th>
                                            <th scope="col" style="white-space: nowrap" >ÊìáÂÑ™</th>
                                        </ng-container>
                                        <ng-container *ngFor="let sub of subItem2">
                                            <th scope="col" style="white-space: nowrap" >ÂéüÂßã</th>
                                            <th scope="col" style="white-space: nowrap" >ÊìáÂÑ™</th>
                                        </ng-container>
                                    </tr>
                                </thead>
                            
                                <tbody>
                                    <tr class="text-center" *ngFor="let range of rangeList">
                                        <td style="white-space: nowrap">{{range.value}}</td>
                                            <ng-container *ngFor="let sub of subjectList2">
                                                <td *ngIf="examMatrix2[sub] && examMatrix2[sub][curMatrix] && examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÁßëÁõÆÊàêÁ∏æ(ÂéüÂßã)'] && examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÁßëÁõÆÊàêÁ∏æ(ÂéüÂßã)'][range.key]; else tplNoFinalScore" style="white-space: nowrap">{{examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÁßëÁõÆÊàêÁ∏æ(ÂéüÂßã)'][range.key]}}</td>
                                                <td *ngIf="examMatrix2[sub] && examMatrix2[sub][curMatrix] && examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÁßëÁõÆÊàêÁ∏æ'] && examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÁßëÁõÆÊàêÁ∏æ'][range.key]; else tplNoFinalScore" style="white-space: nowrap">{{examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÁßëÁõÆÊàêÁ∏æ'][range.key]}}</td>
                                            </ng-container>
                                            <ng-container *ngFor="let sub of subItem2">
                                                <td *ngIf="examMatrix2[sub] && examMatrix2[sub][curMatrix] && examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÂàÜÈ†ÖÊàêÁ∏æ(ÂéüÂßã)'] && examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÂàÜÈ†ÖÊàêÁ∏æ(ÂéüÂßã)'][range.key]; else tplNoFinalScore" style="white-space: nowrap">{{examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÂàÜÈ†ÖÊàêÁ∏æ(ÂéüÂßã)'][range.key]}}</td>
                                                <td *ngIf="examMatrix2[sub] && examMatrix2[sub][curMatrix] && examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÂàÜÈ†ÖÊàêÁ∏æ'] && examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÂàÜÈ†ÖÊàêÁ∏æ'][range.key]; else tplNoFinalScore" style="white-space: nowrap">{{examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÂàÜÈ†ÖÊàêÁ∏æ'][range.key]}}</td>
                                            </ng-container>
                                    </tr>
                                </tbody>
                            </table>
                        </ng-container>

                    <h3>‰∫îÊ®ôÁµ±Ë®àË°®</h3>
                        <ng-container *ngIf="!noneRank ; else tplNoRank">
                            <table class="table table-bordered table-striped mb-5 mr-3" *ngIf="curMatrix === 'Áè≠ÊéíÂêç' || curMatrix === 'Âπ¥ÊéíÂêç' || curMatrix === 'ÁßëÊéíÂêç'; else tplSubRank">
                                    <thead>
                                        <tr>
                                            <th scope="colgroup" colspan="1"  style="width:50px"></th>
                                            <th scope="colgroup" colspan="2" *ngFor="let sub of subjectList2" >{{sub}}</th>
                                            <th scope="colgroup" colspan="2" *ngFor="let sub of subItem2">{{sub}}</th>
                                        </tr>
                                        <tr class="text-center" >
                                            <th scope="col" style="white-space: nowrap">‰∫îÊ®ô</th>
                                            <ng-container *ngFor="let sub of subjectList2">
                                                <th scope="col" style="white-space: nowrap" >ÂéüÂßã</th>
                                                <th scope="col" style="white-space: nowrap" >ÊìáÂÑ™</th>
                                            </ng-container>
                                            <ng-container *ngFor="let sub of subItem2">
                                                <th scope="col" style="white-space: nowrap" >ÂéüÂßã</th>
                                                <th scope="col" style="white-space: nowrap" >ÊìáÂÑ™</th>
                                            </ng-container>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="text-center" *ngFor="let range of fiveRange">
                                            <td style="white-space: nowrap">{{range.value}}</td>
                                                <ng-container *ngFor="let sub of subjectList2">
                                                    <td *ngIf="examMatrix2[sub] && examMatrix2[sub][curMatrix] && examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÁßëÁõÆÊàêÁ∏æ(ÂéüÂßã)'] && examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÁßëÁõÆÊàêÁ∏æ(ÂéüÂßã)'] && examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÁßëÁõÆÊàêÁ∏æ(ÂéüÂßã)'][range.key] && examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÁßëÁõÆÊàêÁ∏æ(ÂéüÂßã)'][range.key] !== 0 ; else tplNoFinalScore" style="white-space: nowrap">{{examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÁßëÁõÆÊàêÁ∏æ(ÂéüÂßã)'][range.key] | number:'1.2-2'}}</td>
                                                    <td *ngIf="examMatrix2[sub] && examMatrix2[sub][curMatrix] && examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÁßëÁõÆÊàêÁ∏æ'] && examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÁßëÁõÆÊàêÁ∏æ'][range.key] && examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÁßëÁõÆÊàêÁ∏æ'][range.key] !== 0 ; else tplNoFinalScore" style="white-space: nowrap">{{examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÁßëÁõÆÊàêÁ∏æ'][range.key] | number:'1.2-2'}}</td>
                                                </ng-container>
                                                <ng-container *ngFor="let sub of subItem2">
                                                    <td *ngIf="examMatrix2[sub] && examMatrix2[sub][curMatrix] && examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÂàÜÈ†ÖÊàêÁ∏æ(ÂéüÂßã)'] && examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÂàÜÈ†ÖÊàêÁ∏æ(ÂéüÂßã)'][range.key] && examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÂàÜÈ†ÖÊàêÁ∏æ(ÂéüÂßã)'][range.key] !== 0 ; else tplNoFinalScore"style="white-space: nowrap">{{examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÂàÜÈ†ÖÊàêÁ∏æ(ÂéüÂßã)'][range.key] | number:'1.2-2'}}</td>
                                                    <td *ngIf="examMatrix2[sub] && examMatrix2[sub][curMatrix] && examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÂàÜÈ†ÖÊàêÁ∏æ'] && examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÂàÜÈ†ÖÊàêÁ∏æ'][range.key] && examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÂàÜÈ†ÖÊàêÁ∏æ'][range.key] !== 0 ; else tplNoFinalScore"style="white-space: nowrap">{{examMatrix2[sub][curMatrix]['Â≠∏Êúü/ÂàÜÈ†ÖÊàêÁ∏æ'][range.key] | number:'1.2-2'}}</td>
                                                </ng-container>
                                        </tr>
                                    </tbody>
                            </table>

                        </ng-container> -->
                    </ng-container>
                </ng-container>
            </ng-container>
        </ng-container>
    </div>
</div>

<!-- templateÂçÄÂ°ä -->
<ng-template #tplNoClass>
    <div class="d-flex justify-content-center mt-5">
        <h5>Ê≤íÊúâÁè≠Á¥öË≥áÊñô</h5>
    </div>
</ng-template>
<ng-template #tplNoSS>
    <div class="d-flex justify-content-center mt-5">
        <h5>Ê≤íÊúâÁõ∏Â∞çÊáâÂ≠∏Âπ¥Â∫¶Â≠∏ÊúüÁöÑÂ≠∏ÊúüÊàêÁ∏æ</h5>
    </div>
</ng-template>
<!-- templateÂçÄÂ°ä -->
<ng-template #tplLoading>
    <div class="d-flex justify-content-center mt-5">
        <div class="spinner-border text-secondary" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
</ng-template>

<ng-template #tplFirstLoading>
    <div class="d-flex justify-content-center mt-5">
        <div class="spinner-border text-secondary" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
</ng-template>

<ng-template #tplNoScore>
    <td>-- </td>
</ng-template>

<ng-template #tplNoRange>
    <td style="white-space: nowrap">-- / --</td>
</ng-template>

<ng-template #tplNoRank>
    <div class="container mt-2 mb-4">
        <h4 style="color:red;">Â∞öÊú™Ë®àÁÆóÂõ∫ÂÆöÊéíÂêçÔºå‰∏çÈ°ØÁ§∫Áµ±Ë®àË°®</h4>
    </div>
</ng-template>

<ng-template #tplSubRank>
    <div class="container mt-2 mb-4">
        <h4 style="color:red;">ÁõÆÂâçÁÇ∫È°ûÂà•ÊéíÂêçÔºå‰∏çÈ°ØÁ§∫Áµ±Ë®àË°®</h4>
    </div>
</ng-template>

<ng-template #tplNoStuRank>
</ng-template>




<!-- ÂΩàË∑≥Ë¶ñÁ™ó È°ØÁ§∫ Ë¶ÅÈ°ØÁ§∫ÁöÑÁßëÁõÆ  -->

<!-- Modal ÈÄôÈÇäÊé°Áî® ngx-boostrap -->
<ng-template #template>
    <div class="modal-header">
        <h4 class="modal-title pull-left">ÈÅ∏ÊìáÈ°ØÁ§∫ÁßëÁõÆ(È†òÂüü)</h4>
        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
            <span aria-hidden="true">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <div class="form-check ml-1" *ngFor="let item of selectShowItems">
            <input class="form-check-input" type="checkbox" value="" [id]="'cb'+item.Name"
                [checked]="item.Check=='true'" (change)="setCheck(item)">
            <label class="form-check-label" [for]="'cb'+item.Name">
                {{item.Name}}{{item.ScoreType}}<span *ngIf="item.ScoreType=='Á∏ΩÊàêÁ∏æ'">({{item.Ramark}})</span>
            </label>

        </div>
        <div style="float:right">

        </div>
        <!-- <button (click)="reloadData()"  > 
        Á¢∫ÂÆö 
    </button> -->

        <br>
        <div class="ml-4">
            <input class="form-check-input" type="checkbox" value="" id="selectAll" [checked]="subjSelectAll"
                (change)="selectAllSubj($event)">
            <label class="form-check-label" for="selectAll">
                <b>ÂÖ®ÈÅ∏ (Ê∏ÖÁ©∫)</b>
            </label>

            <button type="button" class="btn btn-light float-right" (click)="reloadData()">Á¢∫ÂÆö</button>
        </div>
    </div>
</ng-template>