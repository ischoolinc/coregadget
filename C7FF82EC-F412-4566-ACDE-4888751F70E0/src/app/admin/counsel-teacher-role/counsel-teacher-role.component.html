<div *ngIf="!isLoading && adminComponent.isRoleEnable; else tmpLoading" >
  <div class = "" style ="width: 100% ;height: 50px ; ">

    <button   
    *ngIf="!Mode.isEditMode()"  class="btn btn-info ml-auto btn_bul_rad pin float-right"
    style=" margin :5px;"
    (click)="Add()" >新增
         <i class="material-icons">add</i> 
       </button>

  </div>

  <div class="tab-content " style ="padding: 0px">
    <!-- <div class="d-flex">
      <div class="inline-block float-left">

      </div>

    </div> -->
          <!-- <div class="btn-section" 
        style =" width:120px ;

        position :fixed ;
        top :50px ;
        right:5px ;
        z-index: 99;" >

      </div> -->
    <ul class="rwd-table" style="margin :0px" >
      <li class="thead">
        <ol class="tr">
          <li class="sticky-top">教師姓名 </li>
          <li class="sticky-top">{{teacherTypeStr}}</li>
          <li class="sticky-top">教師編號   
             <i  *ngIf="Mode.isViewMode()" (click)="enterTeacherCounselNumber()"
             class="material-icons material-icons-outlined bigger-little"
             style ="font-size: 15px;">mode_edit
          </i> </li>
          <li  class="sticky-top">     
        <span >
          刪除
        </span> 
          </li>
        </ol>
      </li>
      <li class="tbody">

        <ol class="tr"
            *ngFor="let item of teachersCounselRoles">
            <ng-container *ngIf="!item.isAddMode">
            <li data-title="姓名"  >{{ item.TeacherName }}</li>
          <li data-title="身分">{{ item.Role }}</li>
          <li data-title="教師編號" *ngIf="!Mode.isEditMode()" ><div>{{ item.TeacherCounselNumber}}</div></li>
          <li data-title="教師編號" *ngIf="Mode.isEditMode()"  >
         <div class="teacherNumber">
           <input style="
             color :rgb(90, 90, 90) ;
             width: 200px;
             background: rgb(247, 247, 247);
             border-radius: 5px;
             border :none;
             height:36px ;
             border-bottom: 1.7px dashed #b1bacc  ;
             "
            type="text"
            [(ngModel)]="item.TeacherCounselNumber" 
            >
         </div>
           </li>
          <li data-title="刪除">
            <!-- <button class="btn  ml-auto delete_btn_sm"
                    data-toggle="modal"
                    data-backdrop="static"
                    (click)="delete(item)">
              刪除
           
            </button> -->
            <mat-icon   
            style =" color:  #E05D5D !important;"
            class=""
            aria-hidden="false" 
            aria-label="Example home icon" 
            (click)="delete(item)">
            highlight_off
          </mat-icon>
          </li>

        </ng-container>
        <!-- 新增模式 -->
        <ng-container *ngIf="item.isAddMode">

          <li data-title="姓名">
            <mat-form-field class="example-full-width">
              <input type="text"
                     placeholder="請選擇老師"
                     aria-label="Number"
                     matInput
                     [formControl]="myControl"
                     [matAutocomplete]="auto">
              <mat-autocomplete #auto="matAutocomplete"
                                (optionSelected)='SetSelectTeacherName($event.option.value)'>
                <mat-option *ngFor="let option  of filteredOptions | async"
                            [value]="option">
                  {{option}}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>

          </li>
          <li data-title="身分">{{ item.Role }}</li>
          <!-- <li data-title="教師編號" *ngIf="!Mode.isEditMode()" ><div>{{ item.TeacherCounselNumber}}</div></li> -->
          <li data-title="教師編號" *ngIf="Mode.isAddMode()"  >
       
         <div>
           <input style="
             color :rgb(90, 90, 90) ;
             width: 200px;
             background: rgb(247, 247, 247);
             border-radius: 5px;
             border :none;
             height:36px ;
             border-bottom: 1.7px dashed #b1bacc  ;
             "
            type="text"
            [(ngModel)]="item.TeacherCounselNumber" 
            >
                
         </div>
           </li>
          <li data-title="刪除">
            <!-- <button class="btn  ml-auto delete_btn_sm"
                    data-toggle="modal"
                    data-backdrop="static"
                    (click)="delete(item)">
              刪除
           
            </button> -->
            <mat-icon   *ngIf="!Mode.isEditMode()"
            style =" color:  #E05D5D !important;"
            class=""
            aria-hidden="false" 
            aria-label="Example home icon" 
            (click)="delete(item)">
            highlight_off
          </mat-icon>
          </li>
        </ng-container>
        </ol>
      </li>
    </ul>
  </div>

<div class ="inline-block float-right">

  <button   
  *ngIf="Mode.isEditMode()"  class="btn btn-info ml-auto btn_bul_rad pin float-right mt-2"
  style="
  "
          data-toggle="modal"
          data-backdrop="static"
          (click)="saveAll()">
    儲存
  </button>
</div>
</div>

<ng-template #tmpLoading
             class="container">
  <div class="row justify-content-center"
       style="margin-top:250px;margin-bottom:200px;">
    Loading...
  </div>
</ng-template>

<app-add-counsel-teacher-role-modal #addCounselTeacherRole></app-add-counsel-teacher-role-modal>
<app-del-counsel-teacher-role-modal #delCounselTeacherRole></app-del-counsel-teacher-role-modal>