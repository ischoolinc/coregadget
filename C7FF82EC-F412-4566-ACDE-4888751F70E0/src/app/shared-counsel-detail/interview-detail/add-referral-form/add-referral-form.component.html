




<div  class="modal fade"
     id="referralForm"
     tabindex="-1"
     role="dialog"
     aria-labelledby="addInterviewLabel"
     aria-hidden="true">
  <div class="modal-dialog"
       role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title"
            id="addInterviewLabel">
           {{ editModeString}} 教師轉介表（初級輔導）
        </h5>
        <button type="button"
                class="close"
                data-dismiss="modal"
                aria-label="Close"
                (click)="cancel()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
     

        <div  class="form-group mt-3">
  
        <b>1.導師介入日期：</b>        
  
        <div class="d-flex flex-wrap">
          <div class=" col-md-4">
       
            <input type="date"
                   class="form-control"
                   id="HomeTeacherStartDate"
                   placeholder="請輸入日期"
                   [(ngModel)]="currentReferal.HomeTeacherStartDate"
                   (keyup)="currentReferal.checkValue($event)"
                   (ngModelChange)="currentReferal.checkValue()"
                   [disabled]="_readonly" 
                   />
          </div>
          ~
          <div class=" col-md-4">
            <!-- <label for="interviewDate"
                   class="col-form-label">
              <span class="text-samll text-danger"
                    *ngIf="!_CounselInterview.isOccurDateHasValue">*</span>
              日期
            </label> -->
            <input type="date"
                   class="form-control"
                   id="HomeTeacherEndDate"
                   placeholder="請輸入日期"
                   [(ngModel)]="currentReferal.HomeTeacherEndDate"
                   (keyup)="currentReferal.checkValue()"
                   (ngModelChange)="currentReferal.checkValue()"
                   [disabled]='_readonly' 
                />
          
          </div>
        </div>
        </div>
   



    

        <div class="form-group">
        
            <!-- <span class="text-samll text-danger"
                  *ngIf="true">*</span> -->
            <b>2. 輔導策略（可複選）：</b>  
        
          <div class="d-flex flex-wrap">
            <div class="custom-control custom-checkbox w-50"
                 *ngFor="let item of currentReferal._stratgy">
              <input type="checkbox"
                     class="custom-control-input"
                     [id]="item.answer_code"
                     [checked]="item.answer_checked"
                     (click)="item.setAnswerCheck()"
                     (change)="checkChange(item,'a')"
                     [disabled]="_readonly"  />
              <label class="custom-control-label"
                     [for]="item.answer_code">
                <app-sentence  [disabled]="_readonly" 
                              
                               [text]="item.answer_text"
                              [(ngModel)]="item.answer_martix"></app-sentence>
              </label>
            </div>
          </div>
       
        </div>

        <ng-container *ngIf="true">

    
          <div>

          </div>

          <div class="form-group"
               *ngIf="true">
         
                <b>3.主要轉介問題與期待(條列式)：</b>
                <div class="d-flex flex-wrap mt-2">
            <textarea class="form-control"
                      id="referralDescription"
                      rows="3"
                      placeholder="請輸入轉介說明"
                      [(ngModel)]="currentReferal.ProbblemAndExpectation "
                      [disabled]="_readonly" ></textarea>
          </div>
          </div>
        </ng-container>

      </div>
      <div *ngIf="!_readonly" class="modal-footer">
        <button type="button"
                class="btn btn-dark"
                data-dismiss="modal"
                (click)="cancel()">
          取消
        </button>
        <button type="button"
                class="btn btn-info"
                (click)="save()"
                [disabled]="false">
          送出
        </button>
      </div>
    </div>
  </div>
</div>
