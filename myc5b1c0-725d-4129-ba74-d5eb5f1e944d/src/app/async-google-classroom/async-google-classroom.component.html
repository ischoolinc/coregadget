<div>
  <div *ngIf="processState === 201" class="mx-2">
    <p class="text-2xl font-semibold text-gray-text1 mt-4">同步雲端服務</p>
    <p class="text-base font-semibold text-gray-text1 px-2 mt-4 border-l-2 border-primary">管理Google Classroom</p>
    <p class="text-sm mt-6">同步學生({{ data.target.TargetName }})</p>
    <button class="w-full btn btn-primary mt-6 mb-10"
      [ngClass]="{'btn-disable cursor-not-allowed': !adminIsConnectedGoogle}"
      [disabled]="!adminIsConnectedGoogle"
      [ngClass]="{'disabled': !adminIsConnectedGoogle}"
      (click)="asyncGoogleClassroomCourse(data.target)">開始同步</button>
    <div class="mt-6"></div>
  </div>
  <div *ngIf="processState === 202" class="mt-36 mb-52">
    <img class="mx-auto" src="assets/img/loading.svg" alt="loading">
    <p class="text-2xl font-semibold text-center mt-4">正在同步
      <br>請稍候
      <br>{{((progressBar.current * 100) / progressBar.max).toFixed()}}%
    </p>
  </div>
  <div *ngIf="processState === 2000" class="mt-20">
    <img class="mx-auto mb-4" src="assets/img/success.svg" alt="loading">
    <p class="text-2xl font-semibold text-center text-success mb-4">完成</p>
    <div class="text-center mb-4">{{createStudentMsg}}</div>
    <div class="flex justify-around mb-20 text-sm text-gray-text3">
      <div></div>
      <div>
        <div class="leading-7">1. 已加入的學生不會重複建立</div>
        <div class="leading-7">2. 非 Google 教育帳號不能被加入</div>
        <div class="leading-7">3. 學生異動後，可使用同步功能自動加入</div>
      </div>
      <div></div>
    </div>
    <div class="text-right mb-2">
      <button mat-dialog-close
        class="inline-block mr-2 btn py-2 text-gray-text3 px-4 border-transparent rounded-full hover:text-primary focus:outline-none"
        >關閉</button>
      <a class="inline-block btn btn-primary px-4" [href]="googleSigninChooserUrl(data.target?.GoogleExt?.alternateLink)"
        target="_blank" rel="noreferrer noopener">開啟服務</a>
    </div>
  </div>
  <div *ngIf="processState === 9999" class="mt-36">
    <img class="mx-auto mb-4" src="assets/img/error.svg" alt="loading">
    <p class="text-xl font-semibold text-center text-warning mb-48">
      <span *ngIf="!processErrorMsg">哎呀！出了一點問題<br>請稍後再嘗試一次</span>
      <span *ngIf="processErrorMsg">{{processErrorMsg}}</span>
    </p>
    <div class="text-right mb-2">
      <button
        class="inline-block mr-2 btn py-2 text-gray-text3 px-4 border-transparent rounded-full hover:text-primary focus:outline-none"></button>
      <button mat-dialog-close class="inline-block btn btn-primary px-4">關閉</button>
    </div>
  </div>
</div>
